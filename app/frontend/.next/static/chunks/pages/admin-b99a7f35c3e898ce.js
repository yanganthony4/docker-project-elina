(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{8188:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(7477)}])},7477:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(2540),s=a(3696);let l="http://localhost:5000/api/notes";function c(){let[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(""),[i,o]=(0,s.useState)(""),[d,r]=(0,s.useState)(null);(0,s.useEffect)(()=>{fetch(l).then(e=>e.json()).then(e=>t(e)).catch(e=>console.error("Error fetching notes:",e))},[]);let h=async n=>{n.preventDefault();let s=d?"PUT":"POST",h=d?"".concat(l,"/").concat(d._id):l,u=await fetch(h,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify({title:a,content:i})}),x=await u.json();d?t(e.map(e=>e._id===x._id?x:e)):t([...e,x]),c(""),o(""),r(null)},u=e=>{c(e.title),o(e.content),r(e)},x=async a=>{await fetch("".concat(l,"/").concat(a),{method:"DELETE"}),t(e.filter(e=>e._id!==a))};return(0,n.jsxs)("div",{className:"container mx-auto p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Admin Note Management"}),(0,n.jsxs)("form",{onSubmit:h,className:"mt-4 space-y-2",children:[(0,n.jsx)("input",{className:"w-full border p-2",type:"text",placeholder:"Note Title",value:a,onChange:e=>c(e.target.value)}),(0,n.jsx)("textarea",{className:"w-full border p-2",placeholder:"Note Content",value:i,onChange:e=>o(e.target.value)}),(0,n.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",children:d?"Update Note":"Add Note"})]}),(0,n.jsx)("div",{className:"mt-6",children:e.map(e=>(0,n.jsxs)("div",{className:"border p-4 mt-2 flex justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:e.title}),(0,n.jsx)("p",{className:"text-gray-600",children:e.content})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:()=>u(e),className:"text-blue-500 mx-2",children:"Edit"}),(0,n.jsx)("button",{onClick:()=>x(e._id),className:"text-red-500",children:"Delete"})]})]},e._id))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(8188)),_N_E=e.O()}]);